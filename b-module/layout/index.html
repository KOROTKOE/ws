<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>

  <body>
    <div id="app">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
          <img
            src="assets/images/logo.png"
            class="logo test-0-logo"
            alt="logo"
          />

          <div class="navbar-collapse">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active">
                <a class="nav-link test-0-nav-1" @click="go('main')"
                  >Promotions</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link test-0-nav-2" href="#">Search</a>
              </li>
              <li class="nav-item">
                <a class="nav-link test-0-nav-3" href="#">Check-in</a>
              </li>
              <li class="nav-item">
                <a class="nav-link test-0-nav-4" @click="goPersonalArea"
                  >Personal area</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div class="container" v-if="page === 'main'">
        <section class="mt-5">
          <h2 class="mb-4">Search for bus flights</h2>

          <form action="search.html" @submit.prevent="findFlights">
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3 pr-lg-0">
                <input
                  type="text"
                  class="form-control test-0-fd w-100"
                  v-model="forms.busSearch.from"
                  placeholder="From where:"
                  :class="{'is-invalid':errors.busSearch.from}"
                />
                <div class="invalid-feedback">{{errors.busSearch.from}}</div>
              </div>
              <div
                class="col-12 col-sm-6 col-lg-4 mt-3 col-xl-3 mt-sm-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-0-fa w-100"
                  v-model="forms.busSearch.to"
                  placeholder="To where:"
                  :class="{'is-invalid':errors.busSearch.to}"
                />
                <div class="invalid-feedback">{{errors.busSearch.to}}</div>
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-0-fdt"
                  v-model="forms.busSearch.date1"
                  placeholder="Departing:"
                  :class="{'is-invalid':errors.busSearch.date1}"
                />
                <div class="invalid-feedback">{{errors.busSearch.date1}}</div>
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-xl-0"
              >
                <input
                  type="text"
                  class="form-control test-0-fat"
                  v-model="forms.busSearch.date2"
                  placeholder="Returning:"
                  :class="{'is-invalid':errors.busSearch.date2}"
                />
                <div class="invalid-feedback">{{errors.busSearch.date2}}</div>
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-1 mt-lg-0 pr-xl-0"
              >
                <select
                  class="form-control test-0-fnp"
                  v-model="forms.busSearch.passengers"
                  placeholder="Passengers:"
                  :class="{'is-invalid':errors.busSearch.passengers}"
                >
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                </select>
                <div class="invalid-feedback">
                  {{errors.busSearch.passengers}}
                </div>
              </div>
              <div class="col-12 col-xl-1 px-2 mt-3 mt-xl-0">
                <button class="btn btn-success form-control test-0-fbs">
                  Search
                </button>
              </div>
            </div>
          </form>
        </section>

        <section class="mt-5">
          <h2 class="mb-4">Promotions</h2>

          <div class="row">
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card">
                <img
                  src="assets/images/placeholder.jpg"
                  class="card-img-top test-0-ai"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title test-0-an">Promotion 1</h5>
                  <p class="card-text test-0-ad">Promotion text</p>
                  <a href="#" class="btn btn-primary test-0-abm">More</a>
                </div>
              </div>
            </div>
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card">
                <img
                  src="assets/images/placeholder.jpg"
                  class="card-img-top test-0-ai"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title test-0-an">Promotion 1</h5>
                  <p class="card-text test-0-ad">Promotion text</p>
                  <a href="#" class="btn btn-primary test-0-abm">More</a>
                </div>
              </div>
            </div>
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card">
                <img
                  src="assets/images/placeholder.jpg"
                  class="card-img-top test-0-ai"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title test-0-an">Promotion 1</h5>
                  <p class="card-text test-0-ad">Promotion text</p>
                  <a href="#" class="btn btn-primary test-0-abm">More</a>
                </div>
              </div>
            </div>
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card">
                <img
                  src="assets/images/placeholder.jpg"
                  class="card-img-top test-0-ai"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title test-0-an">Promotion 1</h5>
                  <p class="card-text test-0-ad">Promotion text</p>
                  <a href="#" class="btn btn-primary test-0-abm">More</a>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="mt-5">
          <h2 class="mb-4">Subscribe</h2>

          <form action="#">
            <div class="row">
              <div class="col-12 col-md-6">
                <input
                  type="email"
                  class="form-control test-0-sie"
                  placeholder="example@domain.com"
                />
              </div>
              <div class="col-12 col-md-6">
                <button class="btn btn-success w-100 test-0-sbs">
                  Subscribe
                </button>
              </div>
            </div>
          </form>
        </section>
      </div>

      <div class="container" v-if="page === 'flights'">
        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="mb-4">We found the following bus flights</h2>
            <a class="btn btn-sm btn-secondary test-4-bback" @click="backToMain"
              >Back</a
            >
          </div>
          <div>
            <h5 class="mt-4 mb-3">
              <span class="test-4-fif1"
                >{{forms.flights.flights_to[0].from.city}}</span
              >
              ->
              <span class="test-4-fit1"
                >{{forms.flights.flights_to[0].to.city}}</span
              >
            </h5>
            <table class="table table-hover table-bordered">
              <tr>
                <th>Flight</th>
                <th>Bus</th>
                <th>Date and time of departure</th>
                <th>Arrival time</th>
                <th>Bus time</th>
                <th>Cost</th>
              </tr>
              <tr
                v-for="flight of forms.flights.flights_to"
                :class="{'selected':flight == forms.selectedFlights.to}"
                @click="selectFlight(flight,'to')"
              >
                <td class="test-4-fn">{{flight.flight_code}}</td>
                <td class="test-4-at">{{flight.bus}}</td>
                <td>
                  <span class="test-4-dd">{{flight.from.date}}</span>
                  at
                  <span class="test-4-dt">{{flight.from.time}}</span>
                </td>
                <td class="test-4-aatime">{{flight.to.time}}</td>
                <td class="test-4-ft">
                  <span class="test-4-fhour">{{getTimeDiff(flight).hours}}</span
                  >h
                  <span class="test-4-fminutes"
                    >{{getTimeDiff(flight).minutes}}</span
                  >min
                </td>
                <td class="test-4-fp">{{flight.cost}}</td>
              </tr>
            </table>
          </div>

          <div v-if="forms.busSearch.date2">
            <h5 class="mt-4 mb-3">
              <span class="test-4-fif2"
                >{{forms.flights.flights_back[0].from.city}}</span
              >
              ->
              <span class="test-4-fit2"
                >{{forms.flights.flights_back[0].to.city}}</span
              >
            </h5>
            <table
              class="table table-hover table-bordered"
              v-if="forms.flights.flights_back.length"
            >
              <tr>
                <th>Flight</th>
                <th>Bus</th>
                <th>Date and time of departure</th>
                <th>Arrival time</th>
                <th>Bus time</th>
                <th>Cost</th>
              </tr>
              <tr
                v-for="flight of forms.flights.flights_back"
                :class="{'selected':flight == forms.selectedFlights.back}"
                @click="selectFlight(flight,'back')"
              >
                <td class="test-4-fn">{{flight.flight_code}}</td>
                <td class="test-4-at">{{flight.bus}}</td>
                <td>
                  <span class="test-4-dd">{{flight.from.date}}</span>
                  at
                  <span class="test-4-dt">{{flight.from.time}}</span>
                </td>
                <td class="test-4-aatime">{{flight.to.time}}</td>
                <td class="test-4-ft">
                  <span class="test-4-fhour">{{getTimeDiff(flight).hours}}</span
                  >h
                  <span class="test-4-fminutes"
                    >{{getTimeDiff(flight).minutes}}</span
                  >min
                </td>
                <td class="test-4-fp">{{flight.cost}}</td>
              </tr>
            </table>
          </div>

          <a class="btn btn-primary test-4-bgobook mt-4" @click="goToBooking"
            >Go to booking</a
          >
        </section>
      </div>

      <div class="container" v-if="page === 'booking'">
        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="mb-4">Booking</h2>
            <a
              @click="backToMain"
              class="btn btn-sm btn-secondary test-5-bgoback"
              >Back</a
            >
          </div>

          <div class="d-flex justify-content-between align-items-baseline mb-4">
            <h4>Information about the bus flight</h4>
          </div>

          <table class="table table-hover table-bordered">
            <tr>
              <th>Flight</th>
              <th>From where</th>
              <th>Date and time of departure</th>
              <th>To where</th>
              <th>Flight time</th>
              <th>Cost</th>
            </tr>
            <tr v-for="flight of forms.selectedFlights">
              <td class="test-5-fc">{{flight.flight_code}}</td>
              <td>
                <span class="test-5-from-cn">{{flight.from.city}}</span>,
                <span class="test-5-from-an">{{flight.from.station}}</span>
              </td>
              <td>
                <span class="test-5-dd">{{flight.from.date}}</span>
                at
                <span class="test-5-dt">{{flight.from.time}}</span>
              </td>
              <td class="test-5-to">
                <span class="test-5-to-cn">{{flight.to.city}}</span>,
                <span class="test-5-to-an">{{flight.to.station}}</span>
              </td>
              <td class="test-5-at">
                {{getTimeDiff(flight).hours+":"+getTimeDiff(flight).minutes}}
              </td>
              <td class="test-5-fp">{{flight.cost}}</td>
            </tr>
            <tr>
              <td colspan="5" class="text-right">
                <b>Total cost</b>
              </td>
              <td colspan="1" class="text-right test-5-price">
                {{getSelectedSum()}}
              </td>
            </tr>
          </table>
        </section>

        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-baseline mb-4">
            <h4>Passengers</h4>
            <button
              class="btn btn-primary btn-sm test-5-add"
              @click="addNewPassenger"
            >
              Add passenger
            </button>
          </div>

          <form @submit.prevent="makeBooking">
            <div
              class="row"
              v-for="(passenger,index) in forms.passengers"
              :key="index"
            >
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3 pr-lg-0">
                <input
                  type="text"
                  class="form-control test-5-name w-100"
                  placeholder="First name"
                  v-model="passenger.firstName"
                  :class="{'is-invalid':errors.passengers[index].firstName}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].firstName}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-4 mt-3 col-xl-3 mt-sm-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-5-last w-100"
                  placeholder="Last name"
                  v-model="passenger.lastName"
                  :class="{'is-invalid':errors.passengers[index].lastName}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].lastName}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-5-dob"
                  placeholder="Date of Birth"
                  v-model="passenger.birthDate"
                  :class="{'is-invalid':errors.passengers[index].birthDate}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].birthDate}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-xl-0"
              >
                <input
                  type="text"
                  class="form-control test-5-doc"
                  placeholder="Document number"
                  v-model="passenger.documentNumber"
                  :class="{'is-invalid':errors.passengers[index].documentNumber}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].documentNumber}}</small
                >
              </div>
              <div class="col-12 col-xl-2 mt-3 mt-xl-0">
                <button
                  class="btn btn-danger btn-sm form-control test-5-bremove"
                  @click="removePassenger(index)"
                >
                  Remove
                </button>
              </div>
            </div>

            <button class="btn btn-success mt-4 form-control test-5-book">
              Confirm
            </button>
          </form>
        </section>
      </div>

      <div class="container" v-if="page === 'booking_management'">
        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="mb-4">
              Booking <span class="test-6-code">{{currentBooking.code}}</span>
            </h2>
            <a
              class="btn btn-sm btn-secondary test-6-gohome"
              @click="backToMain"
              >Home</a
            >
          </div>

          <p>
            Booking cost: <span class="test-6-tp">{{currentBooking.cost}}</span>
          </p>

          <div
            class="d-flex justify-content-between align-items-baseline mt-5 mb-2"
          >
            <h4>Information about the bus flight</h4>
          </div>

          <table class="table table-hover table-bordered">
            <tr>
              <th>Flight</th>
              <th>Bus</th>
              <th>From where</th>
              <th>Date and time of departure</th>
              <th>To where</th>
              <th>Arrival time</th>
              <th>Flight time</th>
            </tr>
            <tr
              v-for="flight in currentBooking.flights"
              :key="flight.flight_id"
            >
              <td class="test-6-fc">{{flight.flight_code}}</td>
              <td class="test-6-ac">{{flight.bus}}</td>
              <td class="test-6-from">{{flight.from.city}}</td>
              <td>
                <span class="test-6-dd">{{flight.from.date}}</span>
                at
                <span class="test-6-dt">{{flight.from.time}}</span>
              </td>
              <td class="test-6-to">{{flight.to.city}}</td>
              <td class="test-6-at">{{flight.to.time}}</td>
              <td class="test-6-ft">
                <span class="test-6-fhour">{{getTimeDiff(flight).hours}}</span>h
                <span class="test-6-fminutes"
                  >{{getTimeDiff(flight).minutes}}</span
                >min
              </td>
            </tr>
          </table>

          <div
            class="d-flex justify-content-between align-items-baseline mt-5 mb-4"
          >
            <h4>Passengers</h4>
          </div>

          <table class="table table-hover">
            <tr>
              <th>First name</th>
              <th>Last name</th>
              <th>Date of Birth</th>
              <th>Document number</th>
              <th>Place</th>
            </tr>
            <tr
              v-for="passenger in currentBooking.passengers"
              :key="passenger.id"
            >
              <td class="test-6-name">{{passenger.firstName}}</td>
              <td class="test-6-last">{{passenger.lastName}}</td>
              <td class="test-6-dob">{{passenger.birthDate}}</td>
              <td class="test-6-doc">{{passenger.documentNumber}}</td>
              <td
                class="test-6-seat"
                v-if="Object.keys(currentBooking.flights).length === 2"
              >
                {{passenger.placeBack || 'Is not selected'}}
              </td>
            </tr>
          </table>

          <a @click="goToSeats" class="btn btn-primary test-6-select"
            >Select place</a
          >
        </section>
      </div>

      <div class="container-fluid" v-if="page === 'seats'">
        <div class="row vh-100">
          <div
            class="col-12 col-md-4 d-flex justify-content-center align-items-center"
          >
            <div class="passengers">
              <h2>Choose where the passengers will place</h2>

              <table class="table table-bordered">
                <tr>
                  <th>First name</th>
                  <th>Last name</th>
                  <th>Place</th>
                </tr>
                <tr
                  v-for="passenger of currentBooking.passengers"
                  :class="{'selected':passenger.documentNumber==forms.seat.passenger}"
                >
                  <td class="test-90-name">{{passenger.firstName}}</td>
                  <td class="test-90-last">{{passenger.lastName}}</td>
                  <td>
                    <span class="test-90-seat"
                      >{{passenger.documentNumber==forms.seat.passenger&&forms.seat.seat||passenger.placeBack
                      || 'Is not selected'}}</span
                    >
                    <button
                      class="btn btn-secondary ml-3 test-90-bselect"
                      @click="selectPassenger(passenger.documentNumber)"
                    >
                      Select
                    </button>
                  </td>
                </tr>
              </table>

              <a
                @click="returnToManagementFromSeats"
                class="btn test-90-bback btn-secondary"
                >Back</a
              >
              <a @click="changeSeat" class="btn test-90-bconfirm btn-success"
                >Confirm</a
              >
            </div>
          </div>
          <div
            class="col-12 col-md-8 d-flex justify-content-center align-items-center"
          >
            <div class="scheme">
              <!-- deck -->
              <div class="d-flex mb-2">
                <div class="number"></div>
                <div class="d-flex mr-3">
                  <div class="letter">Left side</div>
                </div>
                <div class="number"></div>
                <div class="d-flex ml-3">
                  <div class="letter">Right side</div>
                </div>
              </div>
              <!-- letters -->
              <div class="d-flex mb-2">
                <div class="number"></div>
                <div class="d-flex mr-3">
                  <div class="letter">A</div>
                  <div class="letter">B</div>
                </div>
                <div class="d-flex ml-3">
                  <div class="letter">C</div>
                  <div class="letter">D</div>
                </div>
                <div class="number"></div>
              </div>
              <!-- / letters -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">1</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-1a"></div>
                  <div class="seat test-100-1b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-1c"></div>
                  <div class="seat test-100-1d"></div>
                </div>
                <div class="number">1</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">2</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-2a"></div>
                  <div class="seat test-100-2b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-2c"></div>
                  <div class="seat test-100-2d"></div>
                </div>
                <div class="number">2</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">3</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-3a"></div>
                  <div class="seat test-100-3b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-3c"></div>
                  <div class="seat test-100-3d"></div>
                </div>
                <div class="number">3</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">4</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-4a"></div>
                  <div class="seat test-100-4b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-4c"></div>
                  <div class="seat test-100-4d"></div>
                </div>
                <div class="number">4</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">5</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-5a"></div>
                  <div class="seat test-100-5b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-5c"></div>
                  <div class="seat test-100-5d"></div>
                </div>
                <div class="number">5</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">6</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-6a"></div>
                  <div class="seat test-100-6b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-6c"></div>
                  <div class="seat test-100-6d"></div>
                </div>
                <div class="number">6</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">7</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-7a"></div>
                  <div class="seat test-100-7b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-7c"></div>
                  <div class="seat test-100-7d"></div>
                </div>
                <div class="number">7</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">8</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-8a"></div>
                  <div class="seat test-100-8b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-8c"></div>
                  <div class="seat test-100-8d"></div>
                </div>
                <div class="number">8</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">9</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-9a"></div>
                  <div class="seat test-100-9b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-9c"></div>
                  <div class="seat test-100-9d"></div>
                </div>
                <div class="number">9</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">10</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-10a"></div>
                  <div class="seat test-100-10b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-10c"></div>
                  <div class="seat test-100-10d"></div>
                </div>
                <div class="number">10</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">11</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-11a"></div>
                  <div class="seat test-100-11b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-11c"></div>
                  <div class="seat test-100-11d"></div>
                </div>
                <div class="number">11</div>
              </div>
              <!-- / row -->

              <!-- row -->
              <div class="d-flex mb-2">
                <div class="number">12</div>
                <div class="d-flex mr-3">
                  <div class="seat test-100-12a"></div>
                  <div class="seat test-100-12b"></div>
                </div>
                <div class="d-flex ml-3">
                  <div class="seat test-100-12c"></div>
                  <div class="seat test-100-12d"></div>
                </div>
                <div class="number">12</div>
              </div>
              <!-- / row -->
            </div>
          </div>
        </div>
      </div>

      <div
        class="container vh-100 d-flex align-items-center justify-content-center"
        v-if="page === 'registration'"
      >
        <section class="mt-5 w-75">
          <h2 class="mb-5 text-center">Registration</h2>

          <form @submit.prevent="register">
            <div class="row">
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  class="form-control test-2-name"
                  placeholder="Frist name"
                  v-model="forms.registration.first_name"
                  :class="{'is-invalid':errors.registration.first_name}"
                />
                <div class="invalid-feedback test-1-emfn">
                  {{errors.registration.first_name}}
                </div>
              </div>
              <div class="col-12 mt-3 col-md-6 mt-md-0">
                <input
                  type="text"
                  class="form-control test-2-last"
                  placeholder="Last name"
                  v-model="forms.registration.last_name"
                  :class="{'is-invalid':errors.registration.last_name}"
                />
                <div class="invalid-feedback test-2-emln">
                  {{errors.registration.last_name}}
                </div>
              </div>
              <div class="col-12 mt-3 col-md-6">
                <input
                  type="text"
                  class="form-control test-2-doc"
                  placeholder="Document number"
                  v-model="forms.registration.document_number"
                  :class="{'is-invalid':errors.registration.document_number}"
                />
                <div class="invalid-feedback test-2-emdn">
                  {{errors.registration.document_number}}
                </div>
              </div>
              <div class="col-12 mt-3 col-md-6">
                <input
                  type="text"
                  class="form-control test-2-phone"
                  placeholder="Phone"
                  v-model="forms.registration.phone"
                  :class="{'is-invalid':errors.registration.phone}"
                />
                <div class="invalid-feedback test-2-empn">
                  {{errors.registration.phone}}
                </div>
              </div>
              <div class="col-12 mt-3 col-md-6">
                <input
                  type="password"
                  class="form-control test-2-pass"
                  placeholder="Password"
                  v-model="forms.registration.password"
                  :class="{'is-invalid':errors.registration.password}"
                />
                <div class="invalid-feedback test-2-empw">
                  {{errors.registration.password}}
                </div>
              </div>
              <div class="col-12 mt-3 col-md-6">
                <input
                  type="password"
                  class="form-control test-2-pass2"
                  placeholder="Password confirmation"
                  v-model="forms.registration.double_password"
                  :class="{'is-invalid':errors.registration.double_password}"
                />
                <div class="invalid-feedback test-2-empw2">
                  {{errors.registration.double_password}}
                </div>
              </div>
              <div class="col-12 mt-3">
                <button class="btn btn-primary w-100 test-2-btn">
                  Register now
                </button>
                <div class="text-center mt-2">
                  Already have an account?
                  <a @click.prevent="go('login')" class="test-2-blgn">Log in</a>
                  or
                  <a @click.prevent="go('main')" class="test-2-bbhm"
                    >Back home</a
                  >
                </div>
              </div>
            </div>
          </form>
        </section>
      </div>

      <div
        v-if="page === 'login'"
        class="container vh-100 d-flex align-items-center justify-content-center"
      >
        <section class="mt-5 w-75">
          <h2 class="mb-5 text-center">Log in</h2>

          <form @submit.prevent="login">
            <div class="row">
              <div class="col-12">
                <!-- is-invalid class show error message -->
                <input
                  type="text"
                  class="form-control test-1-fpn"
                  placeholder="Phone"
                  v-model="forms.login.phone"
                  :class="{'is-invalid':errors.login.phone}"
                />
                <div class="invalid-feedback test-1-emph">
                  {{errors.login.phone}}
                </div>
              </div>
              <div class="col-12 mt-2">
                <input
                  type="password"
                  class="form-control test-1-fps"
                  placeholder="Password"
                  v-model="forms.login.password"
                  :class="{'is-invalid':errors.login.password}"
                />
                <div class="invalid-feedback test-1-emps">
                  {{errors.login.password}}
                </div>
              </div>
              <div class="col-12 mt-4">
                <button class="btn btn-primary w-100 test-1-fbs">Log in</button>
                <div class="text-center mt-2">
                  Don't have an account yet?
                  <a @click.prevent="go('registration')" class="test-1-bsu"
                    >Sign up</a
                  >
                  or
                  <a @click.prevent="go('main')" class="test-1-bbh"
                    >Back home</a
                  >
                </div>
              </div>
            </div>
          </form>
        </section>
      </div>

      <div class="container" v-if="page === 'profile'">
        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="mb-4">
              Welcome,
              <span class="test-3-name">John</span>
              <span class="test-3-last">Doe</span>
            </h2>
            <a @click="logout" class="btn btn-sm btn-secondary test-3-logout"
              >Logout</a
            >
          </div>

          <p>
            Completed
            <span class="test-3-numflights">{{user.flight_count}}</span> bus
            flights
          </p>
        </section>

        <section class="mt-5 favorites">
          <h4 class="mb-4">Favorites bus flights</h4>

          <table class="table table-hover">
            <tr v-for="(flight,index) in userFlights.favorite">
              <td>
                <span class="test-3-from">{{flight.from.from.city}}</span>
                ->
                <span class="test-3-to">{{flight.from.to.city}}</span>
                <br />
                <span class="test-3-from">{{flight.back.from.city}}</span>
                ->
                <span class="test-3-to">{{flight.back.to.city}}</span>
              </td>
              <td>
                Departured
                <span class="test-3-d1">{{flight.from.from.date}}</span>
                at
                <span class="test-3-t1">{{flight.from.from.time}}</span>

                <br />

                Departured
                <span class="test-3-d1">{{flight.back.from.date}}</span>
                at
                <span class="test-3-t1">{{flight.back.from.time}}</span>
              </td>
              <td>
                Arrived at
                <span class="test-3-t2">{{flight.from.to.time}}</span>
                <br />
                Arrived at
                <span class="test-3-t2">{{flight.back.to.time}}</span>
              </td>
              <td>
                <a
                  @click="bookNow(index)"
                  class="btn btn-sm btn-primary test-3-booknow"
                  >Book now</a
                >
                <a
                  @click="removeInFavorite(index)"
                  class="btn btn-sm btn-danger test-3-removf"
                  >Remove from favorites</a
                >
              </td>
            </tr>
          </table>
        </section>

        <section class="mt-5 past">
          <h4 class="mb-4">Past reservations</h4>

          <table class="table table-hover">
            <tr v-for="(flight,index) in userFlights.past">
              <td>
                <span class="test-3-from">{{flight.from.from.city}}</span>
                ->
                <span class="test-3-to">{{flight.from.to.city}}</span>
                <br />
                <span class="test-3-from">{{flight.back.from.city}}</span>
                ->
                <span class="test-3-to">{{flight.back.to.city}}</span>
              </td>
              <td>
                Departured
                <span class="test-3-d1">{{flight.from.from.date}}</span>
                at
                <span class="test-3-t1">{{flight.from.from.time}}</span>

                <br />

                Departured
                <span class="test-3-d1">{{flight.back.from.date}}</span>
                at
                <span class="test-3-t1">{{flight.back.from.time}}</span>
              </td>
              <td>
                Arrived at
                <span class="test-3-t2">{{flight.from.to.time}}</span>
                <br />
                Arrived at
                <span class="test-3-t2">{{flight.back.to.time}}</span>
              </td>
              <td>
                <a @click="addInFavorite(index)" class="btn btn-sm btn-primary"
                  >Add to favorites</a
                >
              </td>
            </tr>
          </table>
        </section>

        <section class="mt-5 upcoming">
          <h4 class="mb-4">Upcoming reservations</h4>

          <table class="table table-hover">
            <tr v-for="flight of upcomingBookings">
              <td>
                <a class="test-3-code" href="booking_management.html"
                  >{{flight.from.flight_code}}</a
                >
              </td>
              <td>
                <span class="test-3-from">{{flight.from.from.city}}</span> ->
                <span class="test-3-to">{{flight.from.to.city}}</span>
                <br />
                <span v-if="flight.back">
                  <span class="test-3-from">{{flight.back.from.city}}</span>
                  ->
                  <span class="test-3-to">{{flight.back.to.city}}</span>
                </span>
              </td>
              <td>
                Departure
                <span class="test-3-d1">{{flight.from.from.date}}</span>
                at
                <span class="test-3-t1">{{flight.from.from.time}}</span>

                <br />
                <span v-if="flight.back">
                  Departure
                  <span class="test-3-d1">{{flight.back.from.date}}</span>
                  at
                  <span class="test-3-t1">{{flight.back.from.time}}</span>
                </span>
              </td>
              <td>
                Arrival at
                <span class="test-3-t2">{{flight.from.to.time}}</span>
                <br />
                <span v-if="flight.back">
                  Arrival at
                  <span class="test-3-t2">{{flight.back.to.time}}</span>
                </span>
              </td>
            </tr>
          </table>
        </section>
      </div>

      <div class="container" v-if="page === 'booking_again'">
        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="mb-4">Booking</h2>
            <a href="search.html" class="btn btn-sm btn-secondary">Back</a>
          </div>

          <div class="d-flex justify-content-between align-items-baseline mb-4">
            <h4>Information about the bus flight</h4>
          </div>

          <table class="table table-hover table-bordered">
            <tr>
              <th>Flight</th>
              <th>From where</th>
              <th>Date and time of departure</th>
              <th>To where</th>
              <th>Flight time</th>
              <th>Cost</th>
            </tr>
            <tr v-for="flight of forms.selectedFlights">
              <td class="test-5-fc">{{flight.flight_code}}</td>
              <td>
                <span class="test-5-from-cn">{{flight.from.city}}</span>,
                <span class="test-5-from-an">{{flight.from.station}}</span>
              </td>
              <td>
                <input
                  type="date"
                  class="form-control mr-2"
                  v-model="flight.from.date"
                />
                at
                <span class="test-5-dt">{{flight.from.time}}</span>
              </td>
              <td class="test-5-to">
                <span class="test-5-to-cn">{{flight.to.city}}</span>,
                <span class="test-5-to-an">{{flight.to.station}}</span>
              </td>
              <td class="test-5-at">
                <span v-if="flight.from.date">
                  {{getTimeDiff(flight).hours+":"+getTimeDiff(flight).minutes}}
                </span>
              </td>
              <td class="test-5-fp">{{flight.cost}}</td>
            </tr>
            <tr>
              <td colspan="5" class="text-right test-5-price">
                <b>Total cost</b>
              </td>
              <td colspan="1" class="text-right test-5-price">
                {{getSelectedSum()}}
              </td>
            </tr>
          </table>
        </section>

        <section class="mt-5">
          <div class="d-flex justify-content-between align-items-baseline mb-4">
            <h4>Passengers</h4>
            <button
              @click="addNewPassenger"
              class="btn btn-primary btn-sm test-5-add"
            >
              Add passenger
            </button>
          </div>
          <form @submit.prevent="makeBooking">
            <div
              class="row"
              v-for="(passenger,index) in forms.passengers"
              :key="index"
            >
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3 pr-lg-0">
                <input
                  type="text"
                  class="form-control test-5-name w-100"
                  placeholder="First name"
                  v-model="passenger.firstName"
                  :class="{'is-invalid':errors.passengers[index].firstName}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].firstName}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-4 mt-3 col-xl-3 mt-sm-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-5-last w-100"
                  placeholder="Last name"
                  v-model="passenger.lastName"
                  :class="{'is-invalid':errors.passengers[index].lastName}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].lastName}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-lg-0"
              >
                <input
                  type="text"
                  class="form-control test-5-dob"
                  placeholder="Date of Birth"
                  v-model="passenger.birthDate"
                  :class="{'is-invalid':errors.passengers[index].birthDate}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].birthDate}}</small
                >
              </div>
              <div
                class="col-12 col-sm-6 col-lg-2 mt-3 col-xl-2 mt-lg-0 pr-xl-0"
              >
                <input
                  type="text"
                  class="form-control test-5-doc"
                  placeholder="Document number"
                  v-model="passenger.documentNumber"
                  :class="{'is-invalid':errors.passengers[index].documentNumber}"
                />
                <small class="invalid-feedback"
                  >{{errors.passengers[index].documentNumber}}</small
                >
              </div>
              <div class="col-12 col-xl-2 mt-3 mt-xl-0">
                <button
                  class="btn btn-danger btn-sm form-control test-5-bremove"
                  @click="removePassenger(index)"
                >
                  Remove
                </button>
              </div>
            </div>

            <button class="btn btn-success mt-4 form-control test-5-book">
              Confirm
            </button>
          </form>
        </section>
      </div>

      <footer class="mt-5">
        <div class="container">
          <div class="row">
            <div class="col-3">
              <span class="test-0-phone">8 (800) 100-10-10</span>
            </div>
            <div class="col-7 offset-2">
              <div class="d-flex justify-content-between">
                <a @click="go('main')">Home</a>
                <a @click="go('login')">Log in</a>
                <a @click="go('registration')">Registration</a>
                <a href="http://xxxxxx-m1.wsr.ru/contact">Contact</a>
                <a href="http://xxxxxx-m1.wsr.ru/news">News</a>
                <a href="http://xxxxxx-m1.wsr.ru/return">Return</a>
                <a href="http://xxxxxx-m1.wsr.ru/feedback">Feedback</a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="js/vue.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
